# http proxy
### 是什么
- 一个代理服务，将客户端的长链请求转成短链请求

### 背景
- 解决链路质量问题；一些老的项目采用http短连接调用，弱网情况下，成功率较低
- 客户端修改调用方式即可；业务服务端代码逻辑复杂，改动较大，客户端修改短连接成长连接调用

### 任务
- 担任owner
- 原型图，协调各端工作，测试，服务端部分逻辑开发
- 推广到业务使用，跟进处理接入问题

### Action（行动）
- 方案：app一个启动周期内，长连接连续失败5次，则降级成短连接
- 应急开光，令牌桶限流
- 提供可视化配置平台，动态调节timeout时间
- （问题点）**接入成本较高，需要在多个平台配置**
    - 流程化，提供自检工具

### Result（结果）
- 7个项目接入
- 100ms占比提供37%；500ms占比下降43%

### Reflection（反思）
- （方案）流程长，太多的配置需要人为配置，容易漏掉，需要自动化
- （方案）长链接异常数据统计

### Proof（专业能力体现）
- 独立设计系统的能力
- 沟通能力；多个部门合作
