# 分布式系统id

- 全局唯一
- 递增、不连续
- 高可用、高性能

### 数据库自增id

- 优点：简单，开发成本小
- 缺点：有序的递增不安全、分表分库麻烦

### uuid

- 全局唯一
- 字符串导致性能下降

### 雪花算法

- ![](https://raw.githubusercontent.com/li-zeyuan/access/master/img/20210203110553.png)

- 占位bit（1bit）+ 时间戳位（41bit）+ 机器码位（10bit）+ 序列号位（12bit）
- 生成64bit大小的整数
- 通过和上一个id对比时间戳，解决时钟回拨问题

### 项目中的id

- 基于雪花算法，对雪花算法的位数做了调整，是18位的十进制整数